{"ast":null,"code":"var _jsxFileName = \"D:\\\\Project_\\\\QuanLyThuVien_Web\\\\src\\\\pages\\\\ReaderManagement.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { FaPlus, FaSearch, FaEdit, FaTrash, FaUser } from 'react-icons/fa';\nimport ReaderModal from '../components/ReaderModal';\nimport './ReaderManagement.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ReaderManagement = () => {\n  _s();\n  const [readers, setReaders] = useState([]);\n  const [filteredReaders, setFilteredReaders] = useState([]);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [editingReader, setEditingReader] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const apiUrl = \"http://localhost:5280/api/DocGia\";\n  useEffect(() => {\n    setLoading(true);\n    fetch(apiUrl).then(res => res.json()).then(data => {\n      const mappedReaders = data.map(dg => ({\n        id: dg.maDG,\n        name: dg.hoTen,\n        email: dg.email,\n        phone: dg.sdt,\n        address: dg.diaChi,\n        memberSince: dg.ngaySinh ? new Date(dg.ngaySinh).toLocaleDateString('vi-VN') : 'Chưa cập nhật',\n        status: 'active',\n        totalBorrows: Math.floor(Math.random() * 50) + 1,\n        currentBorrows: Math.floor(Math.random() * 5) + 1\n      }));\n      setReaders(mappedReaders);\n      setFilteredReaders(mappedReaders);\n      setLoading(false);\n    }).catch(err => {\n      console.error(\"Lỗi khi tải độc giả:\", err);\n      // Fallback data khi API không hoạt động\n      const fallbackData = [{\n        id: 1,\n        name: 'Nguyễn Văn A',\n        email: 'nguyenvana@email.com',\n        phone: '0123456789',\n        address: '123 Lê Lợi, Q1, TP.HCM',\n        memberSince: '15/01/2024',\n        status: 'active',\n        totalBorrows: 25,\n        currentBorrows: 2\n      }, {\n        id: 2,\n        name: 'Trần Thị B',\n        email: 'tranthib@email.com',\n        phone: '0987654321',\n        address: '456 Nguyễn Huệ, Q3, TP.HCM',\n        memberSince: '20/02/2024',\n        status: 'active',\n        totalBorrows: 18,\n        currentBorrows: 1\n      }, {\n        id: 3,\n        name: 'Lê Văn C',\n        email: 'levanc@email.com',\n        phone: '0555666777',\n        address: '789 Võ Văn Tần, Q3, TP.HCM',\n        memberSince: '10/03/2024',\n        status: 'active',\n        totalBorrows: 32,\n        currentBorrows: 3\n      }, {\n        id: 4,\n        name: 'Phạm Thị D',\n        email: 'phamthid@email.com',\n        phone: '0333444555',\n        address: '321 Điện Biên Phủ, Q3, TP.HCM',\n        memberSince: '05/04/2024',\n        status: 'active',\n        totalBorrows: 15,\n        currentBorrows: 0\n      }];\n      setReaders(fallbackData);\n      setFilteredReaders(fallbackData);\n      setLoading(false);\n    });\n  }, []);\n  useEffect(() => {\n    const filtered = readers.filter(reader => reader.name.toLowerCase().includes(searchTerm.toLowerCase()) || reader.email.toLowerCase().includes(searchTerm.toLowerCase()) || reader.phone.includes(searchTerm));\n    setFilteredReaders(filtered);\n  }, [searchTerm, readers]);\n  const handleAddReader = () => {\n    setEditingReader(null);\n    setShowModal(true);\n  };\n  const handleEditReader = reader => {\n    setEditingReader(reader);\n    setShowModal(true);\n  };\n  const handleDeleteReader = readerId => {\n    if (window.confirm('Bạn có chắc chắn muốn xóa độc giả này?')) {\n      fetch(`${apiUrl}/${readerId}`, {\n        method: \"DELETE\"\n      }).then(res => {\n        if (!res.ok) {\n          return res.text().then(text => {\n            throw new Error(text);\n          });\n        }\n        // Xóa thành công, reload lại danh sách\n        refreshReaders();\n      }).catch(err => alert(\"Lỗi khi xóa độc giả: \" + err));\n    }\n  };\n  const handleSaveReader = readerData => {\n    const requestData = {\n      hoTen: readerData.name,\n      email: readerData.email,\n      sdt: readerData.phone,\n      diaChi: readerData.address,\n      gioiTinh: readerData.gioiTinh,\n      ngaySinh: readerData.ngaySinh || null\n    };\n    if (editingReader) {\n      // Cập nhật\n      fetch(`${apiUrl}/${editingReader.id}`, {\n        method: \"PUT\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify({\n          ...requestData,\n          maDG: editingReader.id\n        })\n      }).then(res => {\n        if (!res.ok) {\n          return res.text().then(text => {\n            throw new Error(text);\n          });\n        }\n        refreshReaders();\n      }).catch(err => alert(\"Lỗi khi cập nhật độc giả: \" + err));\n    } else {\n      // Thêm mới\n      fetch(apiUrl, {\n        method: \"POST\",\n        headers: {\n          \"Content-Type\": \"application/json\"\n        },\n        body: JSON.stringify(requestData)\n      }).then(async res => {\n        if (!res.ok) {\n          const text = await res.text();\n          alert(\"Lỗi khi thêm độc giả: \" + text);\n          return;\n        }\n        return res.json();\n      }).then(() => refreshReaders()).catch(err => alert(\"Lỗi khi thêm độc giả: \" + err));\n    }\n    setShowModal(false);\n    setEditingReader(null);\n  };\n  const refreshReaders = () => {\n    setLoading(true);\n    fetch(apiUrl).then(res => res.json()).then(data => {\n      const mappedReaders = data.map(dg => ({\n        id: dg.maDG,\n        name: dg.hoTen,\n        email: dg.email,\n        phone: dg.sdt,\n        address: dg.diaChi\n      }));\n      setReaders(mappedReaders);\n      setFilteredReaders(mappedReaders);\n      setLoading(false);\n    }).catch(err => {\n      console.error(\"Lỗi khi tải độc giả:\", err);\n      setLoading(false);\n    });\n  };\n  const getStatusBadge = status => {\n    switch (status) {\n      case 'active':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-success\",\n          children: \"Ho\\u1EA1t \\u0111\\u1ED9ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 197,\n          columnNumber: 16\n        }, this);\n      case 'inactive':\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-danger\",\n          children: \"Kh\\xF4ng ho\\u1EA1t \\u0111\\u1ED9ng\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 199,\n          columnNumber: 16\n        }, this);\n      default:\n        return /*#__PURE__*/_jsxDEV(\"span\", {\n          className: \"badge badge-secondary\",\n          children: \"Kh\\xF4ng x\\xE1c \\u0111\\u1ECBnh\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 16\n        }, this);\n    }\n  };\n  if (loading) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"loading\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"spinner\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 207,\n      columnNumber: 7\n    }, this);\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"reader-management\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"page-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"page-title\",\n        children: \"Qu\\u1EA3n l\\xFD \\u0111\\u1ED9c gi\\u1EA3\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"page-subtitle\",\n        children: \"Qu\\u1EA3n l\\xFD th\\xF4ng tin \\u0111\\u1ED9c gi\\u1EA3 trong th\\u01B0 vi\\u1EC7n\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 217,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 215,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"content-section\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"section-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"search-bar\",\n          children: [/*#__PURE__*/_jsxDEV(FaSearch, {\n            className: \"search-icon\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"T\\xECm ki\\u1EBFm \\u0111\\u1ED9c gi\\u1EA3 theo t\\xEAn, email ho\\u1EB7c s\\u1ED1 \\u0111i\\u1EC7n tho\\u1EA1i...\",\n            value: searchTerm,\n            onChange: e => setSearchTerm(e.target.value),\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 224,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: handleAddReader,\n          children: [/*#__PURE__*/_jsxDEV(FaPlus, {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 233,\n            columnNumber: 13\n          }, this), \" Th\\xEAm \\u0111\\u1ED9c gi\\u1EA3 m\\u1EDBi\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 232,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"table-container\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          className: \"table\",\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"M\\xE3 \\u0111\\u1ED9c gi\\u1EA3\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 241,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Th\\xF4ng tin\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 242,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Li\\xEAn h\\u1EC7\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Ng\\xE0y tham gia\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 244,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Tr\\u1EA1ng th\\xE1i\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Th\\u1ED1ng k\\xEA\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 246,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"Thao t\\xE1c\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 247,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 240,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 239,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredReaders.map(reader => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: [\"#\", reader.id.toString().padStart(4, '0')]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"reader-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reader-avatar\",\n                    children: /*#__PURE__*/_jsxDEV(FaUser, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 257,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 256,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    className: \"reader-details\",\n                    children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                      children: reader.name\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 260,\n                      columnNumber: 25\n                    }, this), /*#__PURE__*/_jsxDEV(\"small\", {\n                      children: reader.address\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 261,\n                      columnNumber: 25\n                    }, this)]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 259,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 255,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"contact-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: reader.email\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 267,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: reader.phone\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 268,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 266,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 265,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: reader.memberSince\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 271,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: getStatusBadge(reader.status)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"stats-info\",\n                  children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"T\\u1ED5ng: \", reader.totalBorrows, \" l\\u01B0\\u1EE3t\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 275,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                    children: [\"Hi\\u1EC7n t\\u1EA1i: \", reader.currentBorrows, \" cu\\u1ED1n\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 276,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 274,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"action-buttons\",\n                  children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-secondary btn-sm\",\n                    onClick: () => handleEditReader(reader),\n                    title: \"Ch\\u1EC9nh s\\u1EEDa\",\n                    children: /*#__PURE__*/_jsxDEV(FaEdit, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 286,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                    className: \"btn btn-danger btn-sm\",\n                    onClick: () => handleDeleteReader(reader.id),\n                    title: \"X\\xF3a\",\n                    children: /*#__PURE__*/_jsxDEV(FaTrash, {}, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 293,\n                      columnNumber: 25\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 288,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 280,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 279,\n                columnNumber: 19\n              }, this)]\n            }, reader.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 252,\n              columnNumber: 17\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 238,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 237,\n        columnNumber: 9\n      }, this), filteredReaders.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-state\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          children: \"Kh\\xF4ng t\\xECm th\\u1EA5y \\u0111\\u1ED9c gi\\u1EA3\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 305,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"Kh\\xF4ng c\\xF3 \\u0111\\u1ED9c gi\\u1EA3 n\\xE0o ph\\xF9 h\\u1EE3p v\\u1EDBi t\\u1EEB kh\\xF3a t\\xECm ki\\u1EBFm.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 306,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 304,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), showModal && /*#__PURE__*/_jsxDEV(ReaderModal, {\n      reader: editingReader,\n      onSave: handleSaveReader,\n      onClose: () => {\n        setShowModal(false);\n        setEditingReader(null);\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 312,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 214,\n    columnNumber: 5\n  }, this);\n};\n_s(ReaderManagement, \"nLAsFyodfeQZGLwkcWgnojOYXzI=\");\n_c = ReaderManagement;\nexport default ReaderManagement;\nvar _c;\n$RefreshReg$(_c, \"ReaderManagement\");","map":{"version":3,"names":["React","useState","useEffect","FaPlus","FaSearch","FaEdit","FaTrash","FaUser","ReaderModal","jsxDEV","_jsxDEV","ReaderManagement","_s","readers","setReaders","filteredReaders","setFilteredReaders","searchTerm","setSearchTerm","showModal","setShowModal","editingReader","setEditingReader","loading","setLoading","apiUrl","fetch","then","res","json","data","mappedReaders","map","dg","id","maDG","name","hoTen","email","phone","sdt","address","diaChi","memberSince","ngaySinh","Date","toLocaleDateString","status","totalBorrows","Math","floor","random","currentBorrows","catch","err","console","error","fallbackData","filtered","filter","reader","toLowerCase","includes","handleAddReader","handleEditReader","handleDeleteReader","readerId","window","confirm","method","ok","text","Error","refreshReaders","alert","handleSaveReader","readerData","requestData","gioiTinh","headers","body","JSON","stringify","getStatusBadge","className","children","fileName","_jsxFileName","lineNumber","columnNumber","type","placeholder","value","onChange","e","target","onClick","toString","padStart","title","length","onSave","onClose","_c","$RefreshReg$"],"sources":["D:/Project_/QuanLyThuVien_Web/src/pages/ReaderManagement.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport { FaPlus, FaSearch, FaEdit, FaTrash, FaUser } from 'react-icons/fa';\r\nimport ReaderModal from '../components/ReaderModal';\r\nimport './ReaderManagement.css';\r\n\r\nconst ReaderManagement = () => {\r\n  const [readers, setReaders] = useState([]);\r\n  const [filteredReaders, setFilteredReaders] = useState([]);\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [editingReader, setEditingReader] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\nconst apiUrl =\r\n    \"http://localhost:5280/api/DocGia\";\r\n\r\n  useEffect(() => {\r\n    setLoading(true);\r\n    fetch(apiUrl)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const mappedReaders = data.map((dg) => ({\r\n          id: dg.maDG,\r\n          name: dg.hoTen,\r\n          email: dg.email,\r\n          phone: dg.sdt,\r\n          address: dg.diaChi,\r\n          memberSince: dg.ngaySinh ? new Date(dg.ngaySinh).toLocaleDateString('vi-VN') : 'Chưa cập nhật',\r\n          status: 'active',\r\n          totalBorrows: Math.floor(Math.random() * 50) + 1,\r\n          currentBorrows: Math.floor(Math.random() * 5) + 1\r\n        }));\r\n        setReaders(mappedReaders);\r\n        setFilteredReaders(mappedReaders);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Lỗi khi tải độc giả:\", err);\r\n        // Fallback data khi API không hoạt động\r\n        const fallbackData = [\r\n          {\r\n            id: 1,\r\n            name: 'Nguyễn Văn A',\r\n            email: 'nguyenvana@email.com',\r\n            phone: '0123456789',\r\n            address: '123 Lê Lợi, Q1, TP.HCM',\r\n            memberSince: '15/01/2024',\r\n            status: 'active',\r\n            totalBorrows: 25,\r\n            currentBorrows: 2\r\n          },\r\n          {\r\n            id: 2,\r\n            name: 'Trần Thị B',\r\n            email: 'tranthib@email.com',\r\n            phone: '0987654321',\r\n            address: '456 Nguyễn Huệ, Q3, TP.HCM',\r\n            memberSince: '20/02/2024',\r\n            status: 'active',\r\n            totalBorrows: 18,\r\n            currentBorrows: 1\r\n          },\r\n          {\r\n            id: 3,\r\n            name: 'Lê Văn C',\r\n            email: 'levanc@email.com',\r\n            phone: '0555666777',\r\n            address: '789 Võ Văn Tần, Q3, TP.HCM',\r\n            memberSince: '10/03/2024',\r\n            status: 'active',\r\n            totalBorrows: 32,\r\n            currentBorrows: 3\r\n          },\r\n          {\r\n            id: 4,\r\n            name: 'Phạm Thị D',\r\n            email: 'phamthid@email.com',\r\n            phone: '0333444555',\r\n            address: '321 Điện Biên Phủ, Q3, TP.HCM',\r\n            memberSince: '05/04/2024',\r\n            status: 'active',\r\n            totalBorrows: 15,\r\n            currentBorrows: 0\r\n          }\r\n        ];\r\n        setReaders(fallbackData);\r\n        setFilteredReaders(fallbackData);\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const filtered = readers.filter(reader =>\r\n      reader.name.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      reader.email.toLowerCase().includes(searchTerm.toLowerCase()) ||\r\n      reader.phone.includes(searchTerm)\r\n    );\r\n    setFilteredReaders(filtered);\r\n  }, [searchTerm, readers]);\r\n\r\n  const handleAddReader = () => {\r\n    setEditingReader(null);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleEditReader = (reader) => {\r\n    setEditingReader(reader);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleDeleteReader = (readerId) => {\r\n    if (window.confirm('Bạn có chắc chắn muốn xóa độc giả này?')) {\r\n      fetch(`${apiUrl}/${readerId}`, {\r\n        method: \"DELETE\",\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            return res.text().then((text) => { throw new Error(text); });\r\n          }\r\n          // Xóa thành công, reload lại danh sách\r\n          refreshReaders();\r\n        })\r\n        .catch((err) => alert(\"Lỗi khi xóa độc giả: \" + err));\r\n    }\r\n  };\r\n\r\n  const handleSaveReader = (readerData) => {\r\n    const requestData = {\r\n      hoTen: readerData.name,\r\n      email: readerData.email,\r\n      sdt: readerData.phone,\r\n      diaChi: readerData.address,\r\n      gioiTinh: readerData.gioiTinh,\r\n      ngaySinh: readerData.ngaySinh || null\r\n    };\r\n    if (editingReader) {\r\n      // Cập nhật\r\n      fetch(`${apiUrl}/${editingReader.id}`, {\r\n        method: \"PUT\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify({ ...requestData, maDG: editingReader.id }),\r\n      })\r\n        .then((res) => {\r\n          if (!res.ok) {\r\n            return res.text().then((text) => { throw new Error(text); });\r\n          }\r\n          refreshReaders();\r\n        })\r\n        .catch((err) => alert(\"Lỗi khi cập nhật độc giả: \" + err));\r\n    } else {\r\n      // Thêm mới\r\n      fetch(apiUrl, {\r\n        method: \"POST\",\r\n        headers: { \"Content-Type\": \"application/json\" },\r\n        body: JSON.stringify(requestData),\r\n      })\r\n        .then(async (res) => {\r\n          if (!res.ok) {\r\n            const text = await res.text();\r\n            alert(\"Lỗi khi thêm độc giả: \" + text);\r\n            return;\r\n          }\r\n          return res.json();\r\n        })\r\n        .then(() => refreshReaders())\r\n        .catch((err) => alert(\"Lỗi khi thêm độc giả: \" + err));\r\n    }\r\n    setShowModal(false);\r\n    setEditingReader(null);\r\n  };\r\n\r\n  const refreshReaders = () => {\r\n    setLoading(true);\r\n    fetch(apiUrl)\r\n      .then((res) => res.json())\r\n      .then((data) => {\r\n        const mappedReaders = data.map((dg) => ({\r\n          id: dg.maDG,\r\n          name: dg.hoTen,\r\n          email: dg.email,\r\n          phone: dg.sdt,\r\n          address: dg.diaChi,\r\n        }));\r\n        setReaders(mappedReaders);\r\n        setFilteredReaders(mappedReaders);\r\n        setLoading(false);\r\n      })\r\n      .catch((err) => {\r\n        console.error(\"Lỗi khi tải độc giả:\", err);\r\n        setLoading(false);\r\n      });\r\n  };\r\n\r\n  const getStatusBadge = (status) => {\r\n    switch (status) {\r\n      case 'active':\r\n        return <span className=\"badge badge-success\">Hoạt động</span>;\r\n      case 'inactive':\r\n        return <span className=\"badge badge-danger\">Không hoạt động</span>;\r\n      default:\r\n        return <span className=\"badge badge-secondary\">Không xác định</span>;\r\n    }\r\n  };\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"loading\">\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"reader-management\">\r\n      <div className=\"page-header\">\r\n        <h1 className=\"page-title\">Quản lý độc giả</h1>\r\n        <p className=\"page-subtitle\">Quản lý thông tin độc giả trong thư viện</p>\r\n      </div>\r\n\r\n      <div className=\"content-section\">\r\n        <div className=\"section-header\">\r\n          <div className=\"search-bar\">\r\n            <FaSearch className=\"search-icon\" />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Tìm kiếm độc giả theo tên, email hoặc số điện thoại...\"\r\n              value={searchTerm}\r\n              onChange={(e) => setSearchTerm(e.target.value)}\r\n              className=\"search-input\"\r\n            />\r\n          </div>\r\n          <button className=\"btn btn-primary\" onClick={handleAddReader}>\r\n            <FaPlus /> Thêm độc giả mới\r\n          </button>\r\n        </div>\r\n\r\n        <div className=\"table-container\">\r\n          <table className=\"table\">\r\n            <thead>\r\n              <tr>\r\n                <th>Mã độc giả</th>\r\n                <th>Thông tin</th>\r\n                <th>Liên hệ</th>\r\n                <th>Ngày tham gia</th>\r\n                <th>Trạng thái</th>\r\n                <th>Thống kê</th>\r\n                <th>Thao tác</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredReaders.map((reader) => (\r\n                <tr key={reader.id}>\r\n                  <td>#{reader.id.toString().padStart(4, '0')}</td>\r\n                  <td>\r\n                    <div className=\"reader-info\">\r\n                      <div className=\"reader-avatar\">\r\n                        <FaUser />\r\n                      </div>\r\n                      <div className=\"reader-details\">\r\n                        <strong>{reader.name}</strong>\r\n                        <small>{reader.address}</small>\r\n                      </div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div className=\"contact-info\">\r\n                      <div>{reader.email}</div>\r\n                      <div>{reader.phone}</div>\r\n                    </div>\r\n                  </td>\r\n                  <td>{reader.memberSince}</td>\r\n                  <td>{getStatusBadge(reader.status)}</td>\r\n                  <td>\r\n                    <div className=\"stats-info\">\r\n                      <div>Tổng: {reader.totalBorrows} lượt</div>\r\n                      <div>Hiện tại: {reader.currentBorrows} cuốn</div>\r\n                    </div>\r\n                  </td>\r\n                  <td>\r\n                    <div className=\"action-buttons\">\r\n                      <button\r\n                        className=\"btn btn-secondary btn-sm\"\r\n                        onClick={() => handleEditReader(reader)}\r\n                        title=\"Chỉnh sửa\"\r\n                      >\r\n                        <FaEdit />\r\n                      </button>\r\n                      <button\r\n                        className=\"btn btn-danger btn-sm\"\r\n                        onClick={() => handleDeleteReader(reader.id)}\r\n                        title=\"Xóa\"\r\n                      >\r\n                        <FaTrash />\r\n                      </button>\r\n                    </div>\r\n                  </td>\r\n                </tr>\r\n              ))}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n\r\n        {filteredReaders.length === 0 && (\r\n          <div className=\"empty-state\">\r\n            <h3>Không tìm thấy độc giả</h3>\r\n            <p>Không có độc giả nào phù hợp với từ khóa tìm kiếm.</p>\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {showModal && (\r\n        <ReaderModal\r\n          reader={editingReader}\r\n          onSave={handleSaveReader}\r\n          onClose={() => {\r\n            setShowModal(false);\r\n            setEditingReader(null);\r\n          }}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ReaderManagement; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}